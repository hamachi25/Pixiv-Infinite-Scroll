import { i18n } from "#i18n";
import type { Work } from "../../type";
import { SettingContext } from "../../context";

interface Props {
	profile: Work;
}

export const RequestMark = ({ profile }: Props) => {
	const settings = useContext(SettingContext);

	return (
		<div className="mt-[8px]">
			{profile.commission?.acceptRequest ? (
				<a
					className="flex items-center gap-[2px] text-[var(--charcoal-request)]"
					href={`/users/${profile.userId}/request`}
					target={settings?.openInNewTab ? "_blank" : undefined}
				>
					<svg
						className="h-[18px] w-[18px]"
						viewBox="0 0 18 18"
						fill="none"
						height="18"
						width="18"
						xmlns="http://www.w3.org/2000/svg"
					>
						<mask
							maskUnits="userSpaceOnUse"
							fill="#000"
							y=".21"
							x="0"
							height="18"
							width="18"
							id="b"
						>
							<path d="M0 .21h18v18H0z" fill="#fff" />
							<path
								clipRule="evenodd"
								d="m14.59 14.464 1.049 1.377c.202.257.294.46.294.55 0 .166-.055.276-.147.35-.092.073-.294.147-.57.202-1.606.324-3.163-.918-3.163-.918-.993.312-2.005.459-3.072.459-2.225 0-4.045-.588-5.443-1.781a7.047 7.047 0 0 1-2.097-3.03A7.82 7.82 0 0 1 1 9.03c0-1.542.386-2.937 1.159-4.204.827-1.34 1.986-2.313 3.457-2.937 1.103-.44 2.336-.679 3.696-.679 2.023 0 3.715.514 5.04 1.56a6.656 6.656 0 0 1 2.225 3.103c.276.79.423 1.652.423 2.57.018 2.405-.791 4.424-2.41 6.021M10.979 5.07c-.723 0-1.45.453-1.941 1.113-.491-.66-1.218-1.113-1.94-1.113a2.329 2.329 0 0 0-2.33 2.329c0 2.078 1.35 3.858 3.986 5.332a.582.582 0 0 0 .568 0c2.636-1.474 3.985-3.254 3.985-5.332a2.329 2.329 0 0 0-2.328-2.329Z"
								fillRule="evenodd"
							/>
						</mask>
						<path
							clipRule="evenodd"
							d="m14.59 14.464 1.049 1.377c.202.257.294.46.294.55 0 .166-.055.276-.147.35-.092.073-.294.147-.57.202-1.606.324-3.163-.918-3.163-.918-.993.312-2.005.459-3.072.459-2.225 0-4.045-.588-5.443-1.781a7.047 7.047 0 0 1-2.097-3.03A7.82 7.82 0 0 1 1 9.03c0-1.542.386-2.937 1.159-4.204.827-1.34 1.986-2.313 3.457-2.937 1.103-.44 2.336-.679 3.696-.679 2.023 0 3.715.514 5.04 1.56a6.656 6.656 0 0 1 2.225 3.103c.276.79.423 1.652.423 2.57.018 2.405-.791 4.424-2.41 6.021M10.979 5.07c-.723 0-1.45.453-1.941 1.113-.491-.66-1.218-1.113-1.94-1.113a2.329 2.329 0 0 0-2.33 2.329c0 2.078 1.35 3.858 3.986 5.332a.582.582 0 0 0 .568 0c2.636-1.474 3.985-3.254 3.985-5.332a2.329 2.329 0 0 0-2.328-2.329Z"
							fillRule="evenodd"
							fill="url(#a)"
						/>
						<path
							mask="url(#b)"
							d="m15.639 15.841-.796.606.005.006.005.007.786-.619m-1.048-1.377-.703-.711-.626.617.533.7.796-.606m1.195 2.277.624.781-.624-.781m-.57.202-.196-.981h-.002l.198.98m-3.163-.918.623-.782-.416-.332-.507.16.3.954m-8.515-1.322.65-.76-.005-.004-.645.764Zm-2.097-3.03L.5 12.01l.003.007.94-.342m.718-6.847-.851-.525-.003.005.854.52M5.616 1.89l-.37-.928-.01.003-.01.005.39.92m8.736.881-.62.785.002.002.617-.787m2.225 3.103-.945.329.945-.33M17 8.443h-1v.008l1-.008M9.037 6.182l-.803.597.803 1.078.802-1.078-.802-.597m-.284 6.548.488-.873-.488.873m.568 0-.488-.873.488.873m7.113 2.505-1.048-1.376-1.591 1.211 1.048 1.377 1.591-1.212m.499 1.157c0-.297-.12-.55-.181-.67a3.138 3.138 0 0 0-.327-.5l-1.572 1.238a1.648 1.648 0 0 1 .12.175c.006.013 0 .006-.008-.02a.791.791 0 0 1-.033-.224h2.001m-.523 1.13c.367-.293.523-.712.523-1.13h-2c0-.029.005-.102.046-.195a.636.636 0 0 1 .183-.238l1.248 1.563m-.998.401c.172-.034.34-.078.494-.132.135-.049.33-.13.504-.269l-1.248-1.563a.624.624 0 0 1 .088-.058l-.016.006c-.04.014-.11.034-.214.055l.392 1.961m-3.36-1.898-.622.782.001.001.003.003.008.005.021.017.07.053c.06.042.14.1.243.166.202.132.49.303.84.463.678.31 1.699.63 2.798.408l-.396-1.96c-.507.102-1.068-.037-1.57-.267a4.552 4.552 0 0 1-.736-.427l-.034-.025a.054.054 0 0 1-.005-.003h.002v.001l-.622.783m-3.07 1.459c1.161 0 2.274-.16 3.37-.505l-.6-1.908c-.889.28-1.799.413-2.77.413v2m-6.093-2.02c1.617 1.38 3.686 2.02 6.092 2.02v-2c-2.044 0-3.616-.536-4.794-1.541l-1.298 1.52M.502 12.016a8.046 8.046 0 0 0 2.39 3.45l1.291-1.527a6.047 6.047 0 0 1-1.802-2.607l-1.88.684M0 9.03a8.82 8.82 0 0 0 .5 2.98l1.883-.672A6.821 6.821 0 0 1 2 9.03H0m1.305-4.724C.434 5.735 0 7.31 0 9.03h2c0-1.364.339-2.578 1.012-3.683L1.305 4.306M5.225.969C3.572 1.67 2.25 2.777 1.308 4.3l1.701 1.05c.714-1.155 1.708-1.994 2.998-2.541L5.225.969ZM9.312.21c-1.48 0-2.838.26-4.067.75l.742 1.858c.978-.39 2.084-.608 3.325-.608v-2m5.66 1.776C13.434.77 11.508.21 9.312.21v2c1.851 0 3.31.468 4.42 1.345l1.24-1.57m2.549 3.558a7.655 7.655 0 0 0-2.552-3.56l-1.235 1.573a5.656 5.656 0 0 1 1.898 2.645l1.889-.658M18 8.443c0-1.025-.165-2-.48-2.9l-1.887.66A6.77 6.77 0 0 1 16 8.443h2m-2.707 6.733c1.822-1.798 2.727-4.082 2.707-6.74l-2 .015c.016 2.151-.697 3.906-2.112 5.302l1.405 1.423M9.839 6.78c.364-.49.823-.71 1.139-.71v-2c-1.13 0-2.126.686-2.743 1.516L9.839 6.78Zm-2.743-.71c.316 0 .774.22 1.139.71l1.604-1.194c-.618-.83-1.613-1.516-2.743-1.516v2M5.767 7.398c0-.734.595-1.329 1.33-1.329v-2a3.329 3.329 0 0 0-3.33 3.329h2m3.474 4.46c-2.487-1.392-3.474-2.902-3.474-4.46h-2c0 2.598 1.713 4.647 4.497 6.205l.977-1.746m-.408 0a.418.418 0 0 1 .408 0l-.977 1.745c.48.268 1.065.268 1.545 0l-.976-1.746m3.473-4.46c0 1.558-.986 3.068-3.473 4.46l.976 1.745c2.785-1.558 4.497-3.607 4.497-6.205h-2m-1.328-1.329c.733 0 1.328.595 1.328 1.329h2a3.329 3.329 0 0 0-3.328-3.329v2"
							fill="#fff"
						/>
						<path
							clipRule="evenodd"
							d="M9.037 6.182c.49-.66 1.218-1.113 1.94-1.113a2.329 2.329 0 0 1 2.33 2.329c0 2.078-1.35 3.858-3.986 5.332a.583.583 0 0 1-.568 0c-2.636-1.474-3.986-3.254-3.986-5.332a2.329 2.329 0 0 1 2.33-2.33c.722 0 1.449.454 1.94 1.114"
							fillRule="evenodd"
							fill="#fff"
						/>
						<defs>
							<linearGradient
								gradientUnits="userSpaceOnUse"
								y2="9.103"
								y1="9.103"
								x2="17"
								x1="1"
								id="a"
							>
								<stop stopColor="#D1FF1A" />
								<stop stopColor="#1AD1FF" offset="1" />
							</linearGradient>
						</defs>
					</svg>
					<div className="text-[12px] font-bold">{i18n.t("request.accept")}</div>
				</a>
			) : (
				<span className="flex items-center gap-[2px] text-[var(--charcoal-text3)]">
					<svg
						className="h-[18px] w-[18px]"
						viewBox="0 0 18 18"
						fill="none"
						height="18"
						width="18"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							clipRule="evenodd"
							d="m14.59 14.464 1.049 1.377c.202.257.294.46.294.55 0 .166-.055.276-.147.35-.092.073-.294.146-.57.202-1.606.324-3.163-.918-3.163-.918-.993.312-2.005.459-3.072.459-2.225 0-4.045-.588-5.443-1.781a7.047 7.047 0 0 1-2.097-3.03A7.82 7.82 0 0 1 1 9.03c0-1.542.386-2.937 1.159-4.204.827-1.34 1.986-2.313 3.457-2.937 1.103-.44 2.336-.679 3.696-.679 2.023 0 3.715.514 5.04 1.56a6.656 6.656 0 0 1 2.225 3.103c.276.79.423 1.652.423 2.57.018 2.405-.791 4.424-2.41 6.021M10.979 5.07c-.723 0-1.45.453-1.941 1.113-.491-.66-1.218-1.113-1.94-1.113a2.329 2.329 0 0 0-2.33 2.329c0 2.078 1.35 3.858 3.986 5.332a.583.583 0 0 0 .568 0c2.636-1.474 3.985-3.254 3.985-5.332a2.329 2.329 0 0 0-2.328-2.33"
							fillRule="evenodd"
							fill="currentColor"
						/>
					</svg>
					<div className="text-[12px] font-bold">{i18n.t("request.closed")}</div>
				</span>
			)}
		</div>
	);
};
